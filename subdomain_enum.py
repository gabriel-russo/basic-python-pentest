#!/usr/bin/env python3

from requests import get, ConnectionError
from sys import argv

if argv[1] is None:
    raise Exception('Provide a Domain name!')

wordlist = '/usr/share/wordlists/seclists/Discovery/DNS/namelist.txt'

with open(wordlist, 'r') as arq:
    subdomains = arq.read().splitlines()

    for subdomain in subdomains:
        url = f"http://{subdomain}.{argv[1]}"
        try:
            get(url)
        except ConnectionError:
            pass
        else:
            print(f"Valid domain: {subdomain}")
